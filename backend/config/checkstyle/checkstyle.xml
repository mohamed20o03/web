<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
    "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
    "https://checkstyle.org/dtds/configuration_1_3.dtd">

<!--
    Checkstyle Configuration for CampusCard Project
    
    This configuration enforces code quality standards including:
    - Consistent naming conventions
    - Method and class complexity limits
    - Proper Javadoc documentation
    - Code formatting rules
    
    Run with: ./mvnw checkstyle:check
-->
<module name="Checker">
    
    <!-- Charset check - enforce UTF-8 -->
    <property name="charset" value="UTF-8"/>
    
    <!-- Severity for violations -->
    <property name="severity" value="warning"/>
    
    <!-- File extensions to check -->
    <property name="fileExtensions" value="java"/>
    
    <!-- Maximum line length -->
    <module name="LineLength">
        <property name="max" value="120"/>
        <property name="ignorePattern" value="^package.*|^import.*|a]* href|href|http://|https://|ftp://"/>
    </module>
    
    <!-- Disallow tabs -->
    <module name="FileTabCharacter">
        <property name="eachLine" value="true"/>
    </module>
    
    <!-- Trailing whitespace -->
    <module name="RegexpSingleline">
        <property name="format" value="\s+$"/>
        <property name="minimum" value="0"/>
        <property name="maximum" value="0"/>
        <property name="message" value="Line has trailing whitespace."/>
    </module>
    
    <module name="TreeWalker">
        
        <!-- =============================================================== -->
        <!-- NAMING CONVENTIONS                                               -->
        <!-- =============================================================== -->
        
        <!-- Class names: PascalCase -->
        <module name="TypeName">
            <property name="format" value="^[A-Z][a-zA-Z0-9]*$"/>
            <message key="name.invalidPattern" value="Type name ''{0}'' must be PascalCase."/>
        </module>
        
        <!-- Method names: camelCase -->
        <module name="MethodName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
            <message key="name.invalidPattern" value="Method name ''{0}'' must be camelCase."/>
        </module>
        
        <!-- Variable names: camelCase -->
        <module name="LocalVariableName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
            <message key="name.invalidPattern" value="Local variable ''{0}'' must be camelCase."/>
        </module>
        
        <!-- Member variable names: camelCase -->
        <module name="MemberName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
            <message key="name.invalidPattern" value="Member name ''{0}'' must be camelCase."/>
        </module>
        
        <!-- Parameter names: camelCase -->
        <module name="ParameterName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
            <message key="name.invalidPattern" value="Parameter name ''{0}'' must be camelCase."/>
        </module>
        
        <!-- Constant names: UPPER_SNAKE_CASE -->
        <module name="ConstantName">
            <property name="format" value="^[A-Z][A-Z0-9]*(_[A-Z0-9]+)*$"/>
            <message key="name.invalidPattern" value="Constant ''{0}'' must be UPPER_SNAKE_CASE."/>
        </module>
        
        <!-- Package names: lowercase (allowing CampusCard as project name) -->
        <module name="PackageName">
            <property name="format" value="^[a-z]+(\.[a-zA-Z][a-zA-Z0-9]*)*$"/>
            <message key="name.invalidPattern" value="Package name ''{0}'' should follow naming conventions."/>
        </module>
        
        <!-- =============================================================== -->
        <!-- METHOD COMPLEXITY                                                -->
        <!-- =============================================================== -->
        
        <!-- Maximum method length: 50 lines (warn), 75 lines (error) -->
        <module name="MethodLength">
            <property name="max" value="75"/>
            <property name="tokens" value="METHOD_DEF"/>
            <message key="maxLen.method" value="Method length is {0} lines (max allowed is {1})."/>
        </module>
        
        <!-- Cyclomatic complexity (max 15) -->
        <module name="CyclomaticComplexity">
            <property name="max" value="15"/>
            <message key="cyclomaticComplexity" value="Cyclomatic Complexity is {0} (max allowed is {1}). Consider refactoring."/>
        </module>
        
        <!-- Maximum parameters per method: 7 -->
        <module name="ParameterNumber">
            <property name="max" value="7"/>
            <property name="tokens" value="METHOD_DEF"/>
            <message key="maxParam" value="Method has {0} parameters (max allowed is {1}). Consider using a DTO."/>
        </module>
        
        <!-- =============================================================== -->
        <!-- JAVADOC                                                          -->
        <!-- =============================================================== -->
        
        <!-- Require Javadoc on public types -->
        <module name="JavadocType">
            <property name="scope" value="public"/>
            <property name="allowMissingParamTags" value="true"/>
        </module>
        
        <!-- Require Javadoc on public methods -->
        <module name="JavadocMethod">
            <property name="accessModifiers" value="public"/>
            <property name="allowMissingParamTags" value="true"/>
            <property name="allowMissingReturnTag" value="true"/>
        </module>
        
        <!-- Javadoc style checks -->
        <module name="JavadocStyle">
            <property name="checkEmptyJavadoc" value="true"/>
        </module>
        
        <!-- =============================================================== -->
        <!-- IMPORTS                                                          -->
        <!-- =============================================================== -->
        
        <!-- Disallow star imports (except for static) -->
        <module name="AvoidStarImport">
            <property name="excludes" value="java.util.*,java.io.*"/>
            <property name="allowStaticMemberImports" value="true"/>
        </module>
        
        <!-- Unused imports -->
        <module name="UnusedImports"/>
        
        <!-- Redundant imports -->
        <module name="RedundantImport"/>
        
        <!-- Import ordering -->
        <module name="ImportOrder">
            <property name="groups" value="java,javax,org,com"/>
            <property name="ordered" value="true"/>
            <property name="separated" value="true"/>
            <property name="option" value="above"/>
        </module>
        
        <!-- =============================================================== -->
        <!-- CODE STYLE                                                       -->
        <!-- =============================================================== -->
        
        <!-- Require braces for control statements -->
        <module name="NeedBraces"/>
        
        <!-- Left curly brace placement: end of line -->
        <module name="LeftCurly">
            <property name="option" value="eol"/>
        </module>
        
        <!-- Right curly brace placement -->
        <module name="RightCurly">
            <property name="option" value="same"/>
            <property name="tokens" value="LITERAL_TRY,LITERAL_CATCH,LITERAL_FINALLY,LITERAL_IF,LITERAL_ELSE"/>
        </module>
        
        <!-- Whitespace after keywords -->
        <module name="WhitespaceAfter">
            <property name="tokens" value="COMMA,SEMI,TYPECAST,LITERAL_IF,LITERAL_ELSE,LITERAL_WHILE,LITERAL_DO,LITERAL_FOR,DO_WHILE"/>
        </module>
        
        <!-- No whitespace after certain tokens -->
        <module name="NoWhitespaceAfter">
            <property name="tokens" value="AT,INC,DEC,UNARY_MINUS,UNARY_PLUS,BNOT,LNOT,DOT,ARRAY_DECLARATOR,INDEX_OP"/>
        </module>
        
        <!-- No whitespace before certain tokens -->
        <module name="NoWhitespaceBefore">
            <property name="tokens" value="COMMA,SEMI,POST_INC,POST_DEC,ELLIPSIS"/>
        </module>
        
        <!-- =============================================================== -->
        <!-- CODE QUALITY                                                     -->
        <!-- =============================================================== -->
        
        <!-- Empty blocks -->
        <module name="EmptyBlock">
            <property name="option" value="text"/>
            <property name="tokens" value="LITERAL_TRY,LITERAL_FINALLY,LITERAL_IF,LITERAL_ELSE,LITERAL_SWITCH"/>
        </module>
        
        <!-- Empty catch block must have comment -->
        <module name="EmptyCatchBlock">
            <property name="exceptionVariableName" value="expected|ignore"/>
        </module>
        
        <!-- Equals and hashCode must be defined together -->
        <module name="EqualsHashCode"/>
        
        <!-- Magic numbers (numeric literals) -->
        <module name="MagicNumber">
            <property name="ignoreNumbers" value="-1, 0, 1, 2, 10, 100, 1000"/>
            <property name="ignoreFieldDeclaration" value="true"/>
            <property name="ignoreAnnotation" value="true"/>
        </module>
        
        <!-- String literal equality (use equals(), not ==) -->
        <module name="StringLiteralEquality"/>
        
        <!-- SimplifyBooleanExpression -->
        <module name="SimplifyBooleanExpression"/>
        
        <!-- SimplifyBooleanReturn -->
        <module name="SimplifyBooleanReturn"/>
        
        <!-- Multiple variable declarations on one line -->
        <module name="MultipleVariableDeclarations"/>
        
        <!-- One statement per line -->
        <module name="OneStatementPerLine"/>
        
        <!-- Default comes last in switch -->
        <module name="DefaultComesLast"/>
        
        <!-- Fall through in switch -->
        <module name="FallThrough"/>
        
        <!-- Missing switch default -->
        <module name="MissingSwitchDefault"/>
        
        <!-- Modifier order -->
        <module name="ModifierOrder"/>
        
        <!-- Redundant modifiers -->
        <module name="RedundantModifier"/>
        
    </module>
    
</module>
