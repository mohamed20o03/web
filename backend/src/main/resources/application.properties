spring.application.name=CampusCard

# Database Configuration
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/campuscard}
spring.datasource.username=${DB_USERNAME:campuscard_user}
spring.datasource.password=${DB_PASSWORD:campuscard_password}

# JPA/Hibernate
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Flyway
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION_MS:86400000}

# MinIO Configuration
minio.url=${MINIO_URL:http://localhost:9000}
minio.access-key=${MINIO_ACCESS_KEY:minioadmin}
minio.secret-key=${MINIO_SECRET_KEY:minioadmin123}
minio.bucket-name=${MINIO_BUCKET_NAME:uploads}

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# Email Configuration
spring.mail.host=${MAIL_HOST:}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:}
spring.mail.password=${MAIL_PASSWORD:}
spring.mail.properties.mail.smtp.auth=${MAIL_SMTP_AUTH:true}
spring.mail.properties.mail.smtp.starttls.enable=${MAIL_SMTP_STARTTLS_ENABLE:true}

# Frontend URL (for email verification links)
app.frontend.url=${FRONTEND_URL:http://localhost:3000}

# Testing Mode (set to false in production)
# When true: API returns token in response for manual testing
# When false: Only sends email, no token returned
app.testing.mode=${TESTING_MODE:true}

# Admin User Initialization
app.admin.email=${ADMIN_EMAIL:admin@eng.psu.edu.eg}
app.admin.password=${ADMIN_PASSWORD}
app.admin.firstName=${ADMIN_FIRST_NAME:Admin}
app.admin.lastName=${ADMIN_LAST_NAME:User}
app.admin.nationalId=${ADMIN_NATIONAL_ID}
app.admin.facultyId=${ADMIN_FACULTY_ID:1}
app.admin.departmentId=${ADMIN_DEPARTMENT_ID:1}

# CORS Configuration
app.cors.allowed-origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}

# Rate Limiting Configuration
app.ratelimit.login.maxAttempts=${RATE_LIMIT_LOGIN_MAX_ATTEMPTS:5}
app.ratelimit.login.windowMinutes=${RATE_LIMIT_LOGIN_WINDOW_MINUTES:15}
app.ratelimit.signup.maxAttempts=${RATE_LIMIT_SIGNUP_MAX_ATTEMPTS:3}
app.ratelimit.signup.windowMinutes=${RATE_LIMIT_SIGNUP_WINDOW_MINUTES:60}

# Disable mail auto-configuration when not configured
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
